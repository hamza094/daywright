@use 'sass:color';

.landing-header {
  padding: 0.75rem;
  background: $color-white;
}

.landing-nav {
  background: $color-white;
  border-radius: 1rem;
  box-shadow: 0 14px 36px rgb(0 0 0 / 8%);
  padding: 0.65rem 1rem;
  border: 1px solid rgba($color-light-grey, 0.7);

  // Custom navbar toggler - fixes Tabler/Bootstrap conflict and adds smooth animation
  .navbar-toggler {
    border: none;
    padding: 0.6rem;
    width: 2.85rem;
    height: 2.85rem;
    position: relative;
    background: transparent;
    border-radius: 0.5rem;
    transition: background-color 0.2s ease;

    &:focus {
      outline: none;
      box-shadow: none;
      background: rgba($color-secondary, 0.08);
    }

    &:hover {
      background: rgba($color-secondary, 0.06);
    }

    // Hide the default Bootstrap toggler icon
    .navbar-toggler-icon {
      background-image: none !important;
      position: relative;
      display: block;
      width: 1.6rem;
      height: 1.6rem;
      background-color: transparent;
      border-radius: 2px;
      overflow: visible;

      // Middle line (using the element itself)
      &::before,
      &::after {
        content: '';
        position: absolute;
        left: 0;
        width: 100%;
        height: 2px;
        background-color: $color-secondary;
        border-radius: 2px;
        top: 50%;
        transform-origin: center;
        transition:
          transform 0.3s ease,
          opacity 0.3s ease;
      }

      // We will draw the middle line with a box-shadow on ::before in collapsed state
    }

    // Default state (collapsed) - show 3 horizontal lines
    &.collapsed .navbar-toggler-icon,
    &[aria-expanded='false'] .navbar-toggler-icon {
      &::before {
        transform: translateY(-6px) rotate(0deg);
        box-shadow: 0 6px 0 $color-secondary; // Middle line
        opacity: 1;
      }

      &::after {
        transform: translateY(6px) rotate(0deg);
        opacity: 1;
      }
    }

    // Expanded state (clicked/open) - keep a stable X
    &:not(.collapsed) .navbar-toggler-icon,
    &[aria-expanded='true'] .navbar-toggler-icon {
      &::before {
        transform: translateY(0) rotate(85deg) !important;
        box-shadow: none !important; // Hide middle line
        opacity: 1;
      }

      &::after {
        transform: translateY(0) rotate(0deg) !important;
        opacity: 1;
      }
    }
  }

  &_brand {
    gap: 0.6rem;
  }

  &_logo {
    width: 2.75rem;
    height: auto;
    border-radius: 0.6rem;
    background: $color-white;
    padding: 0.25rem;
    box-shadow: 0 10px 26px rgb(0 0 0 / 12%);
  }

  &_title {
    font-weight: 800;
    color: $color-secondary;
    letter-spacing: 0.02em;
    margin-left: 0.15rem;
  }

  &_link {
    font-weight: 700;
    color: $color-secondary;
    padding: 0.5rem 0.75rem !important;
    transition:
      color 120ms ease,
      transform 120ms ease;

    &:hover,
    &:focus-visible {
      color: color.adjust($color-secondary, $lightness: -6%);
      transform: translateY(-1px);
      text-decoration: none;
    }
  }

  &_icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 999px;
    border: 1px solid rgba($color-secondary, 0.18);
    color: $color-secondary;
    background: rgba($color-secondary, 0.06);
    margin: 0 0.35rem;
    transition:
      transform 140ms ease,
      box-shadow 140ms ease,
      background-color 140ms ease,
      color 140ms ease;

    &:hover,
    &:focus-visible {
      transform: translateY(-1px);
      background: rgba($color-secondary, 0.12);
      color: $color-secondary;
      box-shadow: 0 10px 24px rgb(0 0 0 / 12%);
      text-decoration: none;
    }
  }

  &_cta {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.55rem 1.2rem;
    border-radius: 0.75rem;
    font-weight: 800;
    color: $color-white;
    background: linear-gradient(90deg, color.adjust($color-secondary, $lightness: 4%) 0%, $color-secondary 100%);
    border: 1px solid rgba($color-secondary, 0.2);
    box-shadow: 0 12px 28px rgba($color-secondary, 0.2);
    text-decoration: none;
    transition:
      transform 140ms ease,
      box-shadow 140ms ease,
      filter 140ms ease;

    &:hover,
    &:focus-visible {
      transform: translateY(-1px);
      box-shadow: 0 16px 36px rgba($color-secondary, 0.26);
      filter: brightness(1.02);
      color: $color-white;
      text-decoration: none;
    }
  }
}
